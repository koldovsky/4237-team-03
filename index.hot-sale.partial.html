<section class="hot-sale" id="hot-sale">
  <div class="hot-sale__header">
    <h2 class="hot-sale__title">Hot Sale</h2>
    <a href="hot-sale-page.html" target="_blank" class="hot-sale__view-all-button">View all</a>
  </div>

  <div class="hot-sale__carousel">
    <button class="hot-sale__btn hot-sale__btn--prev">‹</button>
    <div class="hot-sale__track" id="hotSaleTrack"></div>
    <button class="hot-sale__btn hot-sale__btn--next">›</button>
  </div>
</section>

<script>
  const hotSaleItems = [
    {
      name: "The Thief of Time - Amelia Pierce",
      old: "$26.00USD",
      price: "$10.00USD",
      img: "img/hot-sale/the-thief-of-time.png",
    },
    {
      name: "Thorn of the Frost King - Edgar Hale",
      old: "$31.00USD",
      price: "$29.45USD",
      img: "img/hot-sale/thorn-of-the-frost-king.png",
    },
    {
      name: "Whispered Secrets - Lily Monroe",
      old: "$25.50USD",
      price: "$20.00USD",
      img: "img/hot-sale/whispered-secrets.png",
    },
    {
      name: "Midnight Shadows - Lily Monroe",
      old: "$22.00USD",
      price: "$20.90USD",
      img: "img/hot-sale/midnight-shadows.png",
    },
    {
      name: "The Wild Hunt - Oliver Reid",
      old: "$26.00USD",
      price: "$10.00USD",
      img: "img/hot-sale/the-wild-hunt.png",
    },
    {
      name: "Melody - Iris West",
      old: "$39.00USD",
      price: "$35.10USD",
      img: "img/hot-sale/melody.png",
    },
    {
      name: "Tides - Marina Holt",
      old: "$26.00USD",
      price: "$25.22USD",
      img: "img/hot-sale/tides.png",
    },
  ];

  const track = document.getElementById("hotSaleTrack");

  function createBook(item) {
    return `
      <article class="hot-sale__book">
        <img src="${item.img}" alt="${item.name}" class="hot-sale__image" />
        <h3 class="hot-sale__name">${item.name}</h3>
        <p class="hot-sale__price-old">${item.old}</p>
        <p class="hot-sale__price-new">${item.price}</p>
        <button class="hot-sale__item-button">Buy now</button>
      </article>
    `;
  }

  hotSaleItems.forEach((item) => {
    track.innerHTML += createBook(item);
  });

  let pos = 0;
  let visible = 3;
  let percent = 100 / visible;

  function updatePos() {
    track.style.transform = `translateX(-${pos * percent}%)`;
  }

  document.querySelector(".hot-sale__btn--next").onclick = () => {
    if (pos < hotSaleItems.length - visible) pos++;
    else pos = 0;
    updatePos();
  };

  document.querySelector(".hot-sale__btn--prev").onclick = () => {
    if (pos > 0) pos--;
    else pos = hotSaleItems.length - visible;
    updatePos();
  };

  window.addEventListener("resize", () => {
  if (window.innerWidth < 576) visible = 1;
  else if (window.innerWidth < 768) visible = 2;
  else if (window.innerWidth < 992) visible = 3;
  else if (window.innerWidth < 1200) visible = 4;
  else visible = 5;
  percent = 100 / visible;
  updatePos();
});

  window.dispatchEvent(new Event("resize"));
</script>